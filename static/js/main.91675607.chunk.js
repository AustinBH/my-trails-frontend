(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,a){e.exports=a(446)},269:function(e,t,a){},270:function(e,t,a){},446:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),l=a.n(o),i=a(20),c=a(65),s=a(227),u=(a(269),a(17)),m=a(18),h=a(21),d=a(19),p=a(22),f=(a(270),a(32)),g=a(26),E=a(250),b=a(464),v=a(42),y=a(58),C="https://my-trails-backend.herokuapp.com/api/v1",O=function(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}},w={auth:{login:function(e){return fetch("".concat(C,"/login"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},signup:function(e){return fetch("".concat(C,"/users"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},getCurrentUser:function(){return fetch("".concat(C,"/account"),{method:"GET",headers:O()}).then(function(e){return e.json()})},edit:function(e){return fetch("".concat(C,"/account"),{method:"PATCH",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},deleteAccount:function(e){return fetch("".concat(C,"/account"),{method:"DELETE",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})}},avatars:{getAvatars:function(){return fetch("".concat(C,"/avatars"),{method:"GET",headers:O()}).then(function(e){return e.json()})}},comments:{getCommentsByTrail:function(e){return fetch("".concat(C,"/comments?trail_id=").concat(e),{headers:O()}).then(function(e){return e.json()})},addComment:function(e){return fetch("".concat(C,"/comments"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},editComment:function(e){return fetch("".concat(C,"/comments"),{method:"PATCH",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},deleteComment:function(e){return fetch("".concat(C,"/comments"),{method:"DELETE",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})}},completedHikes:{getCompletedHikesByTrail:function(e){return fetch("".concat(C,"/completed-hikes?trail_id=").concat(e),{method:"GET",headers:O()}).then(function(e){return e.json()})},addCompletedHike:function(e){return fetch("".concat(C,"/completed-hikes"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},deleteCompletedHike:function(e){return fetch("".concat(C,"/completed-hikes"),{method:"DELETE",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})}},favorites:{getFavoritesByTrail:function(e){return fetch("".concat(C,"/likes?trail_id=").concat(e),{method:"GET",headers:O()}).then(function(e){return e.json()})},addFavorite:function(e){return fetch("".concat(C,"/likes"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},deleteFavorite:function(e){return fetch("".concat(C,"/likes"),{method:"DELETE",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})}},photos:{getPhotosByTrail:function(e){return fetch("".concat(C,"/images?trail_id=").concat(e),{method:"GET",headers:O()}).then(function(e){return e.json()})},addPhoto:function(e){return fetch("".concat(C,"/images"),{method:"POST",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})},deletePhoto:function(e){return fetch("".concat(C,"/images"),{method:"DELETE",headers:O(),body:JSON.stringify(e)}).then(function(e){return e.json()})}},locations:{getLocations:function(){return fetch("".concat(C,"/locations"),{method:"GET",headers:O()}).then(function(e){return e.json()})}},trails:{getTrailsByLocation:function(e,t,a,n){return fetch("".concat(C,"/trails-by-location?lat=").concat(e,"&lon=").concat(t,"&distance=").concat(a,"&results=").concat(n),{method:"GET",headers:O()}).then(function(e){return e.json()})},getTrailsById:function(e){var t="".concat(C,"/trails-by-ids?ids=").concat(e.join(","));return fetch(t,{method:"GET",headers:O()}).then(function(e){return e.json()})}}},k=function(){return function(e){return w.auth.getCurrentUser().then(function(t){return e({type:"AUTHENTICATE",payload:t.user})})}},S=function(e){return function(t){return w.auth.login({user:e}).then(function(e){return t((a=e).message?{type:"ERROR",payload:a.message}:(localStorage.setItem("token",a.jwt),{type:"LOGIN",payload:a.user}));var a})}},j=function(e){return function(t){return w.auth.signup({user:e}).then(function(e){return t((a=e).jwt?(localStorage.setItem("token",a.jwt),{type:"SIGNUP",payload:a.user}):{type:"ERROR",payload:a.error});var a})}},T=a(466),N=a(457),A=a(463),I=a(468),L=function(e){var t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return r.a.createElement(T.a,{columns:1},r.a.createElement(T.a.Column,null,r.a.createElement(N.a,{size:"large",className:"standard-form",onSubmit:function(t){t.preventDefault(),e.startFetch(e.form),"login"===e.form?e.history.push("/"):e.history.push("/#/about")},name:e.form},r.a.createElement(A.a,{content:"Fill out the information below to "+e.form,header:t(e.form)}),r.a.createElement(I.a,{stacked:!0},r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{label:"Username",icon:"user",iconPosition:"left",type:"text",value:e.signup?e.signup.username:e.login.username,onChange:e.handleOnChange,name:"username",placeholder:"Enter your username",autoComplete:"username",required:!0})),r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{label:"Password",icon:"lock",iconPosition:"left",type:"password",value:e.signup?e.signup.password:e.login.password,onChange:e.handleOnChange,name:"password",autoComplete:"current-password",required:!0})),r.a.createElement(b.a,{fluid:!0,icon:"check",color:"blue",type:"submit",content:t(e.form)})))))},F=a(458),D=function(e){return r.a.createElement(F.a,{onClose:e.toggle,open:e.open,closeIcon:!0},r.a.createElement(F.a.Header,null,"Error"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,e.error)),r.a.createElement(F.a.Actions,null,r.a.createElement(b.a,{color:"green",onClick:e.toggle,icon:"check",content:"Ok"})))},P=a(467),x=a(455),H=function(e){return r.a.createElement("div",{className:"info-holder"},r.a.createElement(I.a,{className:"info-loader"},r.a.createElement(P.a,{active:!0},r.a.createElement(x.a,null,"Getting ",e.info,"..."))))},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={login:{username:"",password:""},signup:{username:"",password:"",distance:20,results:20},isLoading:!1},a.handleChange=function(e,t){var n=e.target.parentNode.parentNode.parentNode.parentNode.parentNode.name;a.setState(Object(f.a)({},n,Object(g.a)({},a.state[n],Object(f.a)({},t.name,t.value))))},a.startFetch=function(e){a.setState({isLoading:!0}),"login"===e?a.props.fetchLogin(a.state.login):a.props.fetchSignup(a.state.signup)},a.toggleOpen=function(){a.props.clearError(),a.setState({isLoading:!1})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Trails"),r.a.createElement(E.a,{size:"big",className:"home-image",src:"https://images.freeimages.com/images/large-previews/c27/mount-rainier-1337100.jpg",alt:"mount-rainier"}),r.a.createElement(D,{error:this.props.error,open:!!this.props.error,toggle:this.toggleOpen}),this.state.isLoading?r.a.createElement(H,{info:"account"}):null,r.a.createElement("div",{className:"auth-holder"},r.a.createElement(v.a,null,r.a.createElement(y.b,{path:"/login",exact:!0,render:function(t){return r.a.createElement(L,Object.assign({},t,{startFetch:e.startFetch,login:e.state.login,form:"login",handleOnChange:e.handleChange}))}}),r.a.createElement(y.b,{path:"/signup",exact:!0,render:function(t){return r.a.createElement(L,Object.assign({},t,{startFetch:e.startFetch,signup:e.state.signup,form:"signup",handleOnChange:e.handleChange}))}}),r.a.createElement(b.a,{icon:"sign-in",color:"brown",as:v.c,content:"Login",exact:!0,to:"/login",activeClassName:"active"}),r.a.createElement(b.a,{icon:"user plus",color:"brown",as:v.c,content:"Signup",exact:!0,to:"/signup",activeClassName:"active"}))))}}]),t}(n.Component),_=Object(i.b)(function(e){return{error:e.user.error}},function(e){return{fetchLogin:function(t){return e(S(t))},fetchSignup:function(t){return e(j(t))},clearError:function(){return e({type:"CLEARERROR"})}}})(R),M=a(460),G=a(465),B=a(118),U=[{key:10,text:"Ten",value:10},{key:20,text:"Twenty",value:20},{key:30,text:"Thirty",value:30},{key:40,text:"Fourty",value:40},{key:50,text:"Fifty",value:50}],z=function(e){return r.a.createElement(T.a,{columns:1},r.a.createElement(T.a.Column,null,r.a.createElement(N.a,{className:"standard-form",onSubmit:e.handleOnSubmit},r.a.createElement(I.a,{stacked:!0},r.a.createElement(N.a.Group,{widths:"equal"},r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{icon:"user",iconPosition:"left",label:"Username",type:"text",value:e.user.username,onChange:e.handleOnChange,name:"username",autoComplete:"username",placeholder:"Enter a new username"})),r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{icon:"lock",iconPosition:"left",label:"Current Password",type:"password",value:e.user.password,onChange:e.handleOnChange,name:"password",autoComplete:"current-password",placeholder:"Enter your current password",required:!0})),r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{icon:"lock",iconPosition:"left",label:"New Password",type:"password",value:e.user.newPassword,onChange:e.handleOnChange,name:"newPassword",autoComplete:"current-password",placeholder:"Enter a new password"}))),r.a.createElement(N.a.Group,{widths:"equal"},r.a.createElement(N.a.Field,null,r.a.createElement(B.a,{color:"brown",as:"a",icon:"truck",content:"Distance (miles)"}),r.a.createElement(N.a.Select,{value:e.user.distance,onChange:e.handleOnChange,options:U,name:"distance",placeholder:"Select a range",selection:!0})),r.a.createElement(N.a.Field,null,r.a.createElement(B.a,{color:"brown",as:"a",icon:"map pin",content:"Results"}),r.a.createElement(N.a.Select,{value:e.user.results,onChange:e.handleOnChange,options:U,name:"results",placeholder:"Select the trails to be returned",selection:!0}))),r.a.createElement(B.a,{color:"brown",as:"a",icon:"image outline",content:"Avatar"}),r.a.createElement(N.a.Group,null,e.avatars&&e.avatars.map(function(t){return r.a.createElement(N.a.Field,{key:t.id},r.a.createElement(E.a,{src:t.img_url,avatar:!0}),r.a.createElement(N.a.Radio,{name:"avatar",label:t.name,value:t.id,checked:e.user.avatar===t.id,onChange:e.handleOnChange}))})),r.a.createElement(b.a,{fluid:!0,color:"blue",type:"submit",content:"Edit"})))))},q=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).handleChange=function(t,a){e.setState(Object(f.a)({},a.name,a.value))},e.handleSubmit=function(t){t.preventDefault();var a={username:e.state.username||e.props.user.username,password:e.state.password,distance:parseInt(e.state.distance)||e.props.user.distance,results:parseInt(e.state.results)||e.props.user.results},n="";n=""!==e.state.avatar&&e.state.avatar!==e.props.user.avatar.id?parseInt(e.state.avatar):parseInt(e.props.user.avatar.id),e.state.newPassword?(a=Object(g.a)({},a,{new_password:e.state.newPassword,avatar_id:n}),e.props.fetchEdit(Object(g.a)({},a)).then(function(t){t.payload.error?e.props.displayError(t.payload.error):e.props.history.push("/")})):(a=Object(g.a)({},a,{avatar_id:n}),e.props.fetchEdit(Object(g.a)({},a)).then(function(t){t.payload.error?e.props.displayError(t.payload.error):e.props.history.push("/")}))},w.auth.getCurrentUser().then(function(t){return e.setState({username:t.user.username,avatar:t.user.avatar.id,distance:t.user.distance,results:t.user.results})}),e.state={username:"",password:"",newPassword:"",avatar:"",distance:"",results:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Edit My Account Info"),this.props.avatars?r.a.createElement(z,{user:Object(g.a)({},this.state),handleOnChange:this.handleChange,handleOnSubmit:this.handleSubmit,avatars:this.props.avatars}):null)}}]),t}(n.Component),J=Object(i.b)(null,function(e){return{fetchEdit:function(t){return e((a=t,function(e){return w.auth.edit({user:a}).then(function(t){return e({type:"EDIT",payload:t})})}));var a}}})(q),Y=a(36),W=function(e){var t=Object(n.useState)(!1),a=Object(Y.a)(t,2),o=a[0],l=a[1],i=function(){l(!1),e.toggle()};return r.a.createElement(F.a,{onClose:i,onOpen:e.toggle,open:e.open,trigger:r.a.createElement(b.a,{className:"account-button",negative:!0,content:"Delete Account",icon:"trash alternate"}),closeIcon:!0},r.a.createElement(F.a.Header,null,"Delete My Account"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,"Are you sure?")),r.a.createElement(F.a.Actions,null,r.a.createElement(b.a,{color:"red",onClick:i,icon:"remove",content:"No"}),r.a.createElement(b.a,{color:"green",onClick:function(){return l(!o)},icon:"check",content:"Yes"})),o?r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,r.a.createElement(N.a,{onSubmit:e.handleOnSubmit,className:"standard-form",name:"delete"},r.a.createElement(N.a.Field,{style:{display:"none"}},r.a.createElement(B.a,{pointing:"below",color:"brown",as:"a",icon:"user",content:"Username"}),r.a.createElement(N.a.Input,{type:"text",value:e.username,onChange:e.handleOnChange,placeholder:"Enter your username",autoComplete:"current-username",name:"username"})),r.a.createElement(N.a.Field,{inline:!0,className:"modal-form"},r.a.createElement(B.a,{pointing:"below",color:"brown",as:"a",icon:"lock",content:"Password"}),r.a.createElement(N.a.Input,{type:"password",value:e.password,onChange:e.handleOnChange,autoComplete:"current-password",name:"password",required:!0})),r.a.createElement(b.a,{className:"home-button",color:"blue",type:"submit",content:"Delete Account"})))):null)},V=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,error:"",open:!1,deleteOpen:!1,password:""},a.toggleModal=function(){a.setState({open:!a.state.open})},a.displayError=function(e){a.setState({error:e}),a.toggleModal(),a.props.fetchAuthentication()},a.toggleAccountModal=function(){a.setState({deleteOpen:!a.state.deleteOpen})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),w.auth.deleteAccount({user:{password:a.state.password}}).then(function(e){a.toggleAccountModal(),e.error?a.displayError(e.error):a.props.logout()})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAuthentication().then(this.setState({isLoading:!1})),this.props.fetchAvatars()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Account"),this.props.user&&this.props.user.avatar&&r.a.createElement(E.a,{src:this.props.user.avatar.img_url,avatar:!0}),r.a.createElement("p",null,"Welcome back ",this.props.user&&this.props.user.username,"!!"),r.a.createElement(W,{open:this.state.deleteOpen,toggle:this.toggleAccountModal,handleOnChange:this.handleChange,handleOnSubmit:this.handleSubmit}),this.state.isLoading?r.a.createElement(H,{info:"your info"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{error:this.state.error,open:this.state.open,toggle:this.toggleModal}),r.a.createElement(J,{displayError:this.displayError,user:this.props.user,history:this.props.history,avatars:this.props.avatars})),r.a.createElement(b.a,{color:"brown",icon:"backward",onClick:function(){return e.props.history.push("/")},content:"Go Back"}))}}]),t}(n.Component),K=Object(i.b)(function(e){return{user:e.user.user,avatars:e.avatars}},function(e){return{fetchAuthentication:function(){return e(k())},fetchAvatars:function(){return e(function(e){return w.avatars.getAvatars().then(function(t){return e({type:"AVATARS",payload:t})})})},logout:function(){return e({type:"LOGOUT"})}}})(V),X=a(456),Q=a(469),Z=a(77),$=function(e){return r.a.createElement(X.a,{textAlign:"center"},r.a.createElement(Q.a,{as:"h1",content:"About"}),r.a.createElement(I.a,{stacked:!0},r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"map signs",circular:!0}),r.a.createElement(Q.a.Content,null,"My Trails")),"This application was created to be used by hiking enthusiasts and anyone who wants to experience any amount of nature. As someone who has grown up in the Pacific Northwest I have been very fortunate to experience quite a bit of hiking and backpacking. Hopefully this application will allow you to get out there and share your experiences with others.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"street view",circular:!0}),r.a.createElement(Q.a.Content,null,"How to use the app")),"This is a mobile/webapp for hikers. You can save trails as favorites, mark trails as completed, comment on trails, upload photos of trails, and see specific trail information such as difficulty, length, ascent, a brief summary, and a preview image. You can search for trails based on latitude/longitude gps coordinates, several different preset locations, and your device's geolocation feature.",r.a.createElement("iframe",{className:"demo-video",title:"My Trails Demo",src:"https://www.youtube.com/embed/LO-hzgt9Gaw",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),r.a.createElement(Q.a,{as:"h3",content:"Features"}),r.a.createElement(I.a,{stacked:!0},r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"user",circular:!0}),r.a.createElement(Q.a.Content,null,"Account")),"On this page you can change your account information. You can update your username, password, avatar, and your search preferences. You can specify the range in miles that you want to search for trails as well as the number of trails you want to see.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"heart",circular:!0}),r.a.createElement(Q.a.Content,null,"Favs")),"Here you can find all of the trails that you have favorited. You can view all comments and create, edit, and delete your comments. You can also view the full trail information such as how many users have favorited and completed the trail. All photos uploaded for this trail are also available from the photos button. You can upload new photos or even delete your previous photos as well.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"map",circular:!0}),r.a.createElement(Q.a.Content,null,"Trails")),"This section displays all trails you have completed. Like the Favs page you can view the comments, trail info, and photos associated with trails you have completed.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"search",circular:!0}),r.a.createElement(Q.a.Content,null,"Search")),"This section allows you to search for trails. There are 54 total locations in the dropdown menu which will let you browse trails around these areas. You can also use the settings button on this page to update your search settings. The search by coordinates feature lets you input a specific latitude and longitude to see specific trail data. Both of these types of search will display a map based on the coordinates you provide or location you select. All of the trails will also be displayed below the map. You can interact with these trails in the same manner as both the favs and trails pages.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"home",circular:!0}),r.a.createElement(Q.a.Content,null,"Home Page")),"The home page has a hikes near me! button which will let you see hikes near your location. This feature requires that you have your location services turned on so that we can get trails based on the location of your device. The settings button here functions like the same button on the search page. You can specify your search settings if you want to modify your range or results."),r.a.createElement(Q.a,{as:"h3",content:"Technologies"}),r.a.createElement(I.a,{stacked:!0},r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"react",circular:!0}),r.a.createElement(Q.a.Content,null,"Frontend")),"The frontend of this application uses React.js, Redux.js, Redux Thunk, Google Maps API, Geolocation API, and Semantic UI. The Geolocation API is a bit specific so if you are accessing this website from an http connection rather than https you will not be able to use the hikes near me! feature.",r.a.createElement(Q.a,{dividing:!0,as:"h3",icon:!0,textAlign:"center"},r.a.createElement(Z.a,{name:"gem",circular:!0}),r.a.createElement(Q.a.Content,null,"Backend")),"The backend of this application uses Rails, JWT, Hiking Project API, and AWS S3 image hosting. The Hiking Project API is provided by REI's Hiking Project. This is where the trail data is coming from. Their API is very robust and easy to work with, it has been an absoloute pleasure to work with for this project. The photos that are uploaded here are stored using AWS S3."),r.a.createElement(Q.a,{as:"h3",content:"Contact"}),r.a.createElement(I.a,{stacked:!0},r.a.createElement("a",{href:"https://github.com/AustinBH",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(b.a,{color:"black",content:"Github",icon:"github"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/austin-harlow/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(b.a,{color:"linkedin",content:"Linkedin",icon:"linkedin"})),r.a.createElement("a",{href:"https://dev.to/austinbh",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(b.a,{color:"black",content:"Blog",icon:"list alternate outline"}))),r.a.createElement(b.a,{className:"home-button",color:"brown",icon:"backward",onClick:function(){return e.history.push("/")},content:"Go Back"}))},ee=function(e,t,a){var n="";switch((n=e.target.name?e.target:e.target.parentNode).name){case"fav":var r={trail_id:t.id,user_id:a.user.id};return n.className.includes("orange")?w.favorites.deleteFavorite({like:r}).then(function(e){e.error||(n.className="ui button",n.children[0].className="star outline icon")}):w.favorites.addFavorite({like:r}).then(function(e){e.error||e.message||(n.className="ui orange button",n.children[0].className="star icon")}),null;case"complete":var o={trail_id:t.id,user_id:a.user.id};return n.className.includes("green")?w.completedHikes.deleteCompletedHike({completed_hike:o}).then(function(e){e.error||(n.className="ui button",n.children[0].className="check circle outline icon")}):w.completedHikes.addCompletedHike({completed_hike:o}).then(function(e){e.error||e.message||(n.className="ui green button",n.children[0].className="check circle icon")}),null;case"comments":return["comment",t.id];case"info":return["info",t.id];case"photos":return["photo",t.id];default:return null}},te=a(461),ae=function(e){var t=r.a.createElement(b.a,{name:"fav",icon:"star outline",content:"Fav",onClick:function(t){return e.handleOnClick(t,e.trail)}}),a=!0,n=!1,o=void 0;try{for(var l,i=e.user.likes[Symbol.iterator]();!(a=(l=i.next()).done);a=!0)l.value.trail_id===e.trail.id&&(t=r.a.createElement(b.a,{color:"orange",name:"fav",icon:"star",content:"Fav",onClick:function(t){return e.handleOnClick(t,e.trail)}}))}catch(c){n=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}return t},ne=function(e){var t=r.a.createElement(b.a,{name:"complete",icon:"check circle outline",content:"Complete",onClick:function(t){return e.handleOnClick(t,e.trail)}}),a=!0,n=!1,o=void 0;try{for(var l,i=e.user.completed_hikes[Symbol.iterator]();!(a=(l=i.next()).done);a=!0)l.value.trail_id===e.trail.id&&(t=r.a.createElement(b.a,{color:"green",name:"complete",icon:"check circle",content:"Complete",onClick:function(t){return e.handleOnClick(t,e.trail)}}))}catch(c){n=!0,o=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw o}}return t},re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).placeholders=[r.a.createElement(E.a,{className:"info-image",size:"medium",src:"https://placekitten.com/640/360",alt:"trail placeholder"}),r.a.createElement(E.a,{className:"info-image",size:"medium",src:"https://placekitten.com/580/360",alt:"trail placeholder"}),r.a.createElement(E.a,{className:"info-image",size:"medium",src:"https://placekitten.com/520/360",alt:"trail placeholder"}),r.a.createElement(E.a,{className:"info-image",size:"medium",src:"https://placekitten.com/460/360",alt:"trail placeholder"}),r.a.createElement(E.a,{className:"info-image",size:"medium",src:"https://placekitten.com/360/360",alt:"trail placeholder"})],a.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a.displayFavorites=function(){var e=a.props.favorites;if(e)return 1===e.length?"".concat(e.length," user has faved this trail!"):"".concat(e.length," users have faved this trail!")},a.displayCompletions=function(){var e=a.props.completedHikes;if(e)return 1===e.length?"".concat(e.length," user has hiked this trail!"):"".concat(e.length," users have hiked this trail!")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCompletedHikes(this.props.trail.id),this.props.fetchFavorites(this.props.trail.id)}},{key:"componentWillUnmount",value:function(){this.props.removeCompletedHikes(),this.props.removeFavorites()}},{key:"render",value:function(){return r.a.createElement(T.a,{columns:3,celled:"internally"},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:16},this.props.trail.imgMedium?r.a.createElement(E.a,{className:"info-image",size:"medium",src:this.props.trail.imgMedium,alt:this.props.trail.name}):this.placeholders[Math.floor(Math.random()*Math.floor(this.placeholders.length))])),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:10},r.a.createElement(B.a,{color:"brown"},"Summary"),r.a.createElement("p",null,this.props.trail.summary)),r.a.createElement(T.a.Column,{width:6},r.a.createElement(B.a,{color:"brown"},"Location"),r.a.createElement("p",null,this.props.trail.location))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:8},r.a.createElement(B.a,{color:"brown"},"Completions"),r.a.createElement("p",null,this.displayCompletions()," ")),r.a.createElement(T.a.Column,{width:8},r.a.createElement(B.a,{color:"brown"},"Favs"),r.a.createElement("p",null,this.displayFavorites()," "))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:8},r.a.createElement(B.a,{color:"brown"},"Length"),r.a.createElement("p",null,this.props.trail.length," miles")),r.a.createElement(T.a.Column,{width:8},r.a.createElement(B.a,{color:"brown"},"Ascent"),r.a.createElement("p",null,this.props.trail.ascent," ft"))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:6},r.a.createElement(B.a,{color:"brown"},"Condition"),r.a.createElement("p",null,this.props.trail.conditionStatus)),r.a.createElement(T.a.Column,{width:10},r.a.createElement(B.a,{color:"brown"},"Details"),r.a.createElement("p",null,this.props.trail.conditionDetails||"No details available at this time"))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:7},r.a.createElement(B.a,{color:"brown"},"Difficulty"),r.a.createElement("p",null,this.capitalize(this.props.trail.difficulty))),r.a.createElement(T.a.Column,{width:9},r.a.createElement(B.a,{color:"brown"},"Difficulty Scale"),r.a.createElement("p",{className:"difficulty"},"Green: Easy"),r.a.createElement("p",{className:"difficulty"},"Blue: Intermediate"),r.a.createElement("p",{className:"difficulty"},"Black: Difficult"))))}}]),t}(n.Component),oe=Object(i.b)(function(e){return{completedHikes:e.completedHikes,favorites:e.favorites}},function(e){return{fetchCompletedHikes:function(t){return e((a=t,function(e){return w.completedHikes.getCompletedHikesByTrail(a).then(function(t){return e({type:"GETCOMPLETEDHIKES",payload:t})})}));var a},fetchFavorites:function(t){return e((a=t,function(e){return w.favorites.getFavoritesByTrail(a).then(function(t){return e({type:"GETFAVORITES",payload:t})})}));var a},removeCompletedHikes:function(){return e({type:"DELETECOMPLETEDHIKES"})},removeFavorites:function(){return e({type:"DELETEFAVORITES"})}}})(re),le=a(88),ie=a(459),ce=a(454),se=function(e){return r.a.createElement(F.a,{onOpen:e.toggle,onClose:function(){return e.toggle("")},open:e.open,trigger:"New"===e.info?r.a.createElement(b.a,{icon:"write",color:"purple",content:"New Comment"}):null,closeIcon:!0},r.a.createElement(F.a.Header,null,e.info," Comment"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,r.a.createElement(N.a,{onSubmit:e.handleOnSubmit,className:"standard-form",name:e.info},r.a.createElement(N.a.Field,{label:"Content",control:ce.a,value:e.value,onChange:e.handleOnChange,name:"New"===e.info?"content":"editingContent",placeholder:"Add a new comment",required:!0}),r.a.createElement(b.a,{className:"home-button",color:"blue",type:"submit",content:"Add Comment"})))))},ue=function(e){return r.a.createElement(F.a,{onClose:e.toggle,open:e.open,closeIcon:!0},r.a.createElement(F.a.Header,null,"Delete Comment"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,"Are you sure?")),r.a.createElement(F.a.Actions,null,r.a.createElement(b.a,{color:"red",onClick:e.toggle,icon:"remove",content:"No"}),r.a.createElement(b.a,{color:"green",onClick:function(){return e.deleteComment(e.id)},icon:"checkmark",content:"Yes"})))},me=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,editOpen:!1,deleteOpen:!1,comments:[],content:"",editingContent:"",editingId:"",deletingId:"",isLoading:!1},a.fetchTrailComments=function(){a.setState({isLoading:!0}),w.comments.getCommentsByTrail(a.props.trail.id).then(function(e){return a.setState({comments:e,isLoading:!1})})},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.toggleNew=function(){return a.setState({open:!a.state.open})},a.toggleEdit=function(e){return a.setState({editOpen:!a.state.editOpen,editingContent:e.content,editingId:e.id})},a.toggleDelete=function(e){return a.setState({deleteOpen:!a.state.deleteOpen,deletingId:e.id})},a.deleteComment=function(e){w.comments.deleteComment({id:e}).then(a.setState({comments:a.state.comments.filter(function(t){return t.id!==e}),deletingId:""})),a.toggleDelete({id:""})},a.handleSubmit=function(e){if(e.preventDefault(),"New"===e.target.name){var t={content:a.state.content,user_id:a.props.user.id,trail_id:a.props.trail.id};w.comments.addComment({comment:t}).then(function(e){if(!e.error){var t=[].concat(Object(le.a)(a.state.comments),[e]);a.setState({comments:t,content:""})}}),a.toggleNew()}else{var n={content:a.state.editingContent,id:a.state.editingId};w.comments.editComment({comment:n}).then(function(e){if(!e.error){var t=e,n=[].concat(Object(le.a)(a.state.comments.filter(function(t){return t.id!==e.id})),[t]);a.setState({comments:n})}}),a.toggleEdit("")}},a.convertTime=function(e){return new Date(e).toLocaleString()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchTrailComments(),this.props.fetchAuthentication()}},{key:"componentDidUpdate",value:function(e){this.props.trail.id!==e.trail.id&&this.fetchTrailComments()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a.Group,null,this.state.isLoading?r.a.createElement(H,{info:"comments"}):this.state.comments.length>0?this.state.comments.map(function(t,a){return r.a.createElement(ie.a,{key:a},r.a.createElement(ie.a.Avatar,{src:t.avatar}),r.a.createElement(ie.a.Author,{as:"a",content:t.username}),r.a.createElement(ie.a.Metadata,{content:e.convertTime(t.created_at)}),r.a.createElement(ie.a.Text,{content:t.content}),t.user_id===e.props.user.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{size:"mini",icon:"edit",color:"yellow",onClick:function(){return e.toggleEdit(t)},content:"Edit"}),r.a.createElement(b.a,{size:"mini",icon:"trash alternate",negative:!0,onClick:function(){return e.toggleDelete(t)},content:"Delete"})):null)}):r.a.createElement(ie.a,null,r.a.createElement(ie.a.Text,null,"No comments yet, leave the first one!"))),r.a.createElement(ue,{open:this.state.deleteOpen,toggle:this.toggleDelete,id:this.state.deletingId,deleteComment:this.deleteComment}),r.a.createElement(se,{open:this.state.editOpen,toggle:this.toggleEdit,handleOnSubmit:this.handleSubmit,value:this.state.editingContent,handleOnChange:this.handleChange,info:"Editing"}),r.a.createElement(se,{toggle:this.toggleNew,open:this.state.open,handleOnSubmit:this.handleSubmit,value:this.state.content,handleOnChange:this.handleChange,info:"New"}))}}]),t}(n.Component),he=Object(i.b)(function(e){return{user:e.user.user}},function(e){return{fetchAuthentication:function(){return e(k())}}})(me),de=function(e){return r.a.createElement(F.a,{onOpen:e.toggle,onClose:e.toggle,open:e.open,trigger:r.a.createElement(b.a,{icon:"write",color:"purple",content:"New Photo"}),closeIcon:!0},r.a.createElement(F.a.Header,null,"New Photo"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,e.loading?r.a.createElement(H,{info:"image"}):r.a.createElement(N.a,{onSubmit:e.handleOnSubmit,className:"standard-form",name:"create"},r.a.createElement(N.a.Field,null,r.a.createElement(N.a.Input,{label:"Photo",iconPosition:"left",icon:"image",type:"file",accept:"image/*",onChange:e.handleOnChange,name:"photo",required:!0})),r.a.createElement(b.a,{className:"home-button",color:"blue",type:"submit",content:"Add Photo"})))))},pe=function(e){return r.a.createElement(F.a,{onOpen:e.toggle,onClose:e.toggle,open:e.open,closeIcon:!0},r.a.createElement(F.a.Header,null,"Delete Photo"),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,"Are you sure?")),r.a.createElement(F.a.Actions,null,r.a.createElement(b.a,{color:"red",onClick:e.toggle,icon:"remove",content:"No"}),r.a.createElement(b.a,{color:"green",onClick:function(){return e.deletePhoto(e.image)},icon:"checkmark",content:"Yes"})))},fe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,photos:[],open:!1,deleteOpen:!1,deletingImage:{},photoUrl:"",newLoading:!1},a.fetchTrailPhotos=function(){a.setState({isLoading:!0}),w.photos.getPhotosByTrail(a.props.trail.id).then(function(e){return a.setState({photos:e,isLoading:!1})})},a.toggleOpen=function(){a.setState({open:!a.state.open})},a.toggleDelete=function(e){a.setState({deleteOpen:!a.state.deleteOpen,deletingImage:e})},a.handleChange=function(e){a.setState({photoFileName:e.target.files[0].name});var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){a.setState({photoFile:t.result})}},a.handleSubmit=function(e){e.preventDefault(),a.setState({newLoading:!0});var t={user_id:a.props.user.id,trail_id:a.props.trail.id,photo_file:a.state.photoFile,photo_file_name:a.state.photoFileName};w.photos.addPhoto({image:t}).then(function(e){e.error||(a.toggleOpen(),a.setState({photos:[].concat(Object(le.a)(a.state.photos),[e.image]),newLoading:!1}))})},a.deletePhoto=function(e){w.photos.deletePhoto({image:{id:e.id,img_url:e.img_url}}).then(a.setState({photos:a.state.photos.filter(function(t){return t.id!==e.id})})),a.toggleDelete({id:""})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAuthentication(),this.fetchTrailPhotos()}},{key:"componentDidUpdate",value:function(e){this.props.trail.id!==e.trail.id&&this.fetchTrailPhotos()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a.Group,null,this.state.isLoading?r.a.createElement(H,{info:"photos"}):this.state.photos.length>0?this.state.photos.map(function(t,a){return r.a.createElement(ie.a,{key:a},r.a.createElement(ie.a.Avatar,{src:t.avatar}),r.a.createElement(ie.a.Author,{as:"a",content:t.username}),r.a.createElement(E.a,{src:t.img_url,size:"small",rounded:!0}),t.username===e.props.user.username?r.a.createElement(b.a,{className:"delete-photo",size:"mini",icon:"trash alternate",negative:!0,onClick:function(){return e.toggleDelete(t)},content:"Delete"}):null)}):r.a.createElement("p",null,"No photos yet, post the first one!")),r.a.createElement(pe,{open:this.state.deleteOpen,toggle:this.toggleDelete,deletePhoto:this.deletePhoto,image:this.state.deletingImage}),r.a.createElement(de,{open:this.state.open,toggle:this.toggleOpen,handleOnChange:this.handleChange,handleOnSubmit:this.handleSubmit,loading:this.state.newLoading}))}}]),t}(n.Component),ge=Object(i.b)(function(e){return{user:e.user.user}},function(e){return{fetchAuthentication:function(){return e(k())}}})(fe),Ee=function(e){return e.trails&&e.trails.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{striped:!0,className:"search-table"},r.a.createElement(te.a.Header,null,r.a.createElement(te.a.Row,null,r.a.createElement(te.a.HeaderCell,{content:"Name"}),r.a.createElement(te.a.HeaderCell,{content:"Length"}),r.a.createElement(te.a.HeaderCell,{content:"Condition"}),r.a.createElement(te.a.HeaderCell,null),r.a.createElement(te.a.HeaderCell,null),r.a.createElement(te.a.HeaderCell,null),r.a.createElement(te.a.HeaderCell,null),r.a.createElement(te.a.HeaderCell,null))),r.a.createElement(te.a.Body,null,e.trails.map(function(t){return r.a.createElement(te.a.Row,{key:t.id},r.a.createElement(te.a.Cell,{content:t.name}),r.a.createElement(te.a.Cell,{content:t.length+"miles"}),r.a.createElement(te.a.Cell,{content:t.conditionStatus}),r.a.createElement(te.a.Cell,null,r.a.createElement(ae,{user:e.user,trail:t,handleOnClick:e.handleClick})),r.a.createElement(te.a.Cell,null,r.a.createElement(ne,{user:e.user,trail:t,handleOnClick:e.handleClick})),r.a.createElement(te.a.Cell,null,r.a.createElement(b.a,{color:"blue",name:"comments",icon:"comment alternate",content:"Comments",onClick:function(a){return e.handleClick(a,t)}})),r.a.createElement(te.a.Cell,null,r.a.createElement(b.a,{color:"blue",name:"info",icon:"info circle",content:"More Info",onClick:function(a){return e.handleClick(a,t)}})),r.a.createElement(te.a.Cell,null,r.a.createElement(b.a,{color:"blue",name:"photos",icon:"photo",content:"Photos",onClick:function(a){return e.handleClick(a,t)}})))}))),function(){var t=null,a="",n="";if(e.comments.hidden)if(e.info.hidden){if(e.photo.hidden)return r.a.createElement("div",{className:"trail-holder"});a=e.trails.find(function(t){return t.id===e.photo.id}),t=r.a.createElement(ge,{trail:a}),n="Photos"}else a=e.trails.find(function(t){return t.id===e.info.id}),t=r.a.createElement(oe,{trail:a}),n=a.name;else a=e.trails.find(function(t){return t.id===e.comments.id}),t=r.a.createElement(he,{trail:a}),n="Comments";return r.a.createElement(te.a,null,r.a.createElement(te.a.Header,null,r.a.createElement(te.a.Row,null,r.a.createElement(te.a.HeaderCell,{content:n}))),r.a.createElement(te.a.Body,null,r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Cell,null,t))))}()):null},be=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={info:{id:"",hidden:!0},comments:{id:"",hidden:!0},photos:{id:"",hidden:!0}},a.handleClick=function(e,t){if(t){var n=ee(e,t,a.props);n&&(a.setState({info:{id:a.state.info.id,hidden:!0},comments:{id:a.state.comments.id,hidden:!0},photos:{id:a.state.photos.id,hidden:!0}}),"info"===n[0]?n[1]===a.state.info.id?a.setState({info:{id:"",hidden:!0}}):a.setState({info:{id:n[1],hidden:!1}}):"comment"===n[0]?n[1]===a.state.comments.id?a.setState({comments:{id:"",hidden:!0}}):a.setState({comments:{id:n[1],hidden:!1}}):"photo"===n[0]&&(n[1]===a.state.photos.id?a.setState({photos:{id:"",hidden:!0}}):a.setState({photos:{id:n[1],hidden:!1}})),window.scrollTo(0,2e4))}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Trail Info"),r.a.createElement(Ee,{info:this.state.info,comments:this.state.comments,photo:this.state.photos,trails:this.props.trails,handleClick:this.handleClick,user:this.props.user}))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={trails:[],isLoading:!1,info:{id:"",hidden:!0},comments:{id:"",hidden:!0}},a.fetchLikedTrails=function(){if(a.props.user&&a.props.user.likes.length>0){var e=a.props.user.likes.map(function(e){return e.trail_id});w.trails.getTrailsById(e).then(function(e){return a.setState({trails:e,isLoading:!1})})}else a.setState({isLoading:!1})},a.fetchCompletedTrails=function(){if(a.props.user&&a.props.user.completed_hikes.length>0){var e=a.props.user.completed_hikes.map(function(e){return e.trail_id});w.trails.getTrailsById(e).then(function(e){return a.setState({trails:e,isLoading:!1})})}else a.setState({isLoading:!1})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.props.fetchAuthentication().then("completed"===this.props.hikes?this.fetchCompletedTrails:this.fetchLikedTrails)}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(H,{info:"Trails"}):this.state.trails.length>0?r.a.createElement("div",{className:"user-search-holder"},r.a.createElement(be,{trails:this.state.trails,user:this.props.user})):r.a.createElement("p",null,"You don't have any ",this.props.hikes," trails!!")}}]),t}(n.Component),ye=Object(i.b)(function(e){return{user:e.user.user}},function(e){return{fetchAuthentication:function(){return e(k())}}})(ve),Ce=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your Favorite Trails"),r.a.createElement(ye,{hikes:"liked"}),r.a.createElement(b.a,{color:"brown",icon:"backward",onClick:function(){return e.history.push("/")},content:"Go Back"}))},Oe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your Completed Trails"),r.a.createElement(ye,{hikes:"completed"}),r.a.createElement(b.a,{color:"brown",icon:"backward",onClick:function(){return e.history.push("/")},content:"Go Back"}))},we=a(248),ke=a.n(we),Se=a(462),je=function(e){return r.a.createElement("div",{className:"marker-holder"},r.a.createElement("div",{className:"map-marker",onClick:function(t){e.selectedTrail===e.trail.id&&e.show?e.handleOnClick(null,t):e.handleOnClick(e.trail.id,t)}},e.current?r.a.createElement(E.a,{src:"https://img.icons8.com/color/2x/user-location.png",alt:"user-marker"}):r.a.createElement(E.a,{src:"https://img.icons8.com/dusk/2x/filled-flag.png",alt:"map-marker"})),e.$hover&&e.selectedTrail!==e.trail.id?r.a.createElement("div",{className:"marker-info"},r.a.createElement(Se.a,{style:{zIndex:3}},r.a.createElement(Se.a.Content,null,r.a.createElement(Se.a.Header,null,e.trail.name)))):null,e.show&&e.selectedTrail===e.trail.id?r.a.createElement("div",{className:"marker-info"},r.a.createElement(Se.a,{style:{zIndex:3}},e.trail.imgMedium?r.a.createElement(E.a,{style:{maxHeight:150},size:"small",src:e.trail.imgMedium,alt:e.trail.name}):null,r.a.createElement(Se.a.Content,null,r.a.createElement(Se.a.Header,null,e.trail.name,r.a.createElement(Z.a,{name:"cancel",style:{cursor:"pointer",float:"right"},onClick:function(t){e.handleOnClick(null,t)}}))),e.current?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a.Description,null,"Needs Summary"!==e.trail.summary&&e.trail.summary?e.trail.summary:"No summary available"),r.a.createElement(Se.a.Content,null,r.a.createElement(Se.a.Meta,null,"Condition: ",e.trail.conditionStatus||"No condition available"),r.a.createElement(Se.a.Meta,null,"As of: ",e.trail.conditionDate||"No condition date available"))))):null)},Te=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={showingInfoWindow:!1,selectedTrailId:null},a.onMarkerClick=function(e,t){a.setState({selectedTrailId:e,showingInfoWindow:!0})},a.onMapClicked=function(){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,selectedTrailId:null})},a.displayTrails=function(){return a.props.trails.map(function(e,t){return r.a.createElement(je,{key:t,trail:e,lat:e.latitude,lng:e.longitude,handleOnClick:a.onMarkerClick,show:a.state.showingInfoWindow,selectedTrail:a.state.selectedTrailId})})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.lat?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Map"),r.a.createElement("div",{style:{margin:"auto",height:"90vh",width:"90%",zIndex:"1"}},r.a.createElement(ke.a,{className:"map-holder",bootstrapURLKeys:{key:"AIzaSyCisJtLjqoz9SG8KXCHowiQdyDWlneaTaU"},defaultZoom:9,defaultCenter:{lat:parseFloat(this.props.lat),lng:parseFloat(this.props.lng)},onClick:this.onMapClicked},r.a.createElement(je,{lat:this.props.lat,lng:this.props.lng,trail:{name:"Selected Location",id:1},show:this.state.showingInfoWindow,selectedTrail:this.state.selectedTrailId,current:!0,handleOnClick:this.onMarkerClick}),this.displayTrails()))):null}}]),t}(n.Component);Te.defaultProps={lat:47.6062,lng:-122.3321};var Ne=Te,Ae=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={latitude:"",longitude:""},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.handleOnSubmit(e,Object(g.a)({},a.state)),a.setState({latitude:"",longitude:""})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,{columns:1},r.a.createElement(T.a.Column,null,r.a.createElement("h1",null,"Search by Coordinates"),r.a.createElement(N.a,{className:"standard-form",onSubmit:this.handleSubmit},r.a.createElement(I.a,{stacked:!0},r.a.createElement(N.a.Group,{widths:"equal"},r.a.createElement(N.a.Field,null,r.a.createElement(B.a,{color:"brown",as:"a",icon:"map marker",content:"Latitude"}),r.a.createElement(N.a.Input,{type:"number",value:this.state.latitude,onChange:this.handleChange,name:"latitude",placeholder:"Enter a latitude",required:!0})),r.a.createElement(N.a.Field,null,r.a.createElement(B.a,{color:"brown",as:"a",icon:"map marker alternate",content:"Longitude"}),r.a.createElement(N.a.Input,{type:"number",value:this.state.longitude,onChange:this.handleChange,name:"longitude",placeholder:"Enter a longitude",required:!0}))),r.a.createElement(b.a,{fluid:!0,color:"blue",type:"submit",content:"Search"})))))}}]),t}(n.Component),Ie=[{key:10,text:"Ten",value:10},{key:20,text:"Twenty",value:20},{key:30,text:"Thirty",value:30},{key:40,text:"Fourty",value:40},{key:50,text:"Fifty",value:50}],Le=function(e){return r.a.createElement(F.a,{onOpen:e.toggle,onClose:e.toggle,open:e.open,trigger:r.a.createElement(b.a,{className:"home-button",icon:"settings",color:"green",content:"Settings"}),closeIcon:!0},r.a.createElement(F.a.Header,{content:"Search Settings"}),r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Description,null,r.a.createElement(N.a,{onSubmit:e.handleOnSubmit,className:"standard-form",name:"settings"},r.a.createElement(N.a.Group,{widths:"equal"},r.a.createElement(N.a.Field,{className:"modal-form"},r.a.createElement(B.a,{color:"brown",as:"a",icon:"bicycle",content:"Range (miles)"}),r.a.createElement(N.a.Select,{value:e.range,onChange:e.handleOnChange,options:Ie,name:"distance",placeholder:"Select a range",selection:!0,required:!0})),r.a.createElement(N.a.Field,{className:"modal-form"},r.a.createElement(B.a,{color:"brown",as:"a",icon:"flag",content:"Results (trails)"}),r.a.createElement(N.a.Select,{value:e.results,onChange:e.handleOnChange,options:Ie,name:"results",placeholder:"Select the number of trails",selection:!0,required:!0}))),r.a.createElement(b.a,{className:"home-button",color:"blue",type:"submit",content:"Save"})))))},Fe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={locations:[],trails:[],selectedLocation:{lat:"",lng:""},isLoading:!0,mapLoading:!1,open:!1,distance:"",results:""},a.handleClick=function(e,t){a.setState({trails:[],selectedLocation:{lat:"",lng:""},mapLoading:!0});var n=t.latitude,r=t.longitude,o=a.state.distance||a.props.user.distance,l=a.state.results||a.props.user.results;w.trails.getTrailsByLocation(n,r,o,l).then(function(e){return a.setState({trails:e,selectedLocation:{lat:n,lng:r},mapLoading:!1})})},a.toggle=function(){a.setState({open:!a.state.open})},a.handleChange=function(e,t){a.setState(Object(f.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault(),a.toggle()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.locations.getLocations().then(function(t){return e.setState({locations:t,isLoading:!1})}),this.props.fetchAuthentication()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Search"),this.state.isLoading?r.a.createElement(H,{info:"Locations"}):r.a.createElement(M.a,{placeholder:"Select a location",selection:!0,options:this.state.locations.map(function(t){return{key:t.id,id:t.id,value:t.name,icon:"map signs",content:t.name+", "+t.state,onClick:function(a){return e.handleClick(a,t)}}})}),r.a.createElement(Le,{open:this.state.open,toggle:this.toggle,range:this.state.distance,results:this.state.results,handleOnChange:this.handleChange,handleOnSubmit:this.handleSubmit}),r.a.createElement(Ae,{handleOnSubmit:this.handleClick}),this.state.mapLoading?r.a.createElement(H,{info:"Trails"}):r.a.createElement(Ne,{lat:this.state.selectedLocation.lat,lng:this.state.selectedLocation.lng,trails:this.state.trails}),this.state.trails&&this.state.trails.length>0?r.a.createElement(be,{trails:this.state.trails,user:this.props.user}):this.state.selectedLocation.lat?r.a.createElement("p",null,"There are no trails near ",this.state.selectedLocation.lat+" latitude"," ",this.state.selectedLocation.lng+" longitude"):null,r.a.createElement(b.a,{className:"search-back-button",color:"brown",icon:"backward",onClick:function(){return e.props.history.push("/")},content:"Go Back"}))}}]),t}(n.Component),De=Object(i.b)(function(e){return{user:e.user.user}},function(e){return{fetchAuthentication:function(){return e(k())}}})(Fe),Pe=Object(i.b)(function(e){return{user:e.user.user}},function(e){return{fetchAuthentication:function(){return e(k())}}})(function(e){var t=Object(n.useState)([]),a=Object(Y.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(!1),c=Object(Y.a)(i,2),s=c[0],u=c[1],m=Object(n.useState)(""),h=Object(Y.a)(m,2),d=h[0],p=h[1],f=Object(n.useState)(""),g=Object(Y.a)(f,2),v=g[0],y=g[1],C=Object(n.useState)(""),O=Object(Y.a)(C,2),k=O[0],S=O[1],j=Object(n.useState)(""),T=Object(Y.a)(j,2),N=T[0],A=T[1],I=Object(n.useState)(!1),L=Object(Y.a)(I,2),F=L[0],P=L[1],x=Object(n.useState)(!1),R=Object(Y.a)(x,2),_=R[0],M=R[1],G=Object(n.useState)(""),B=Object(Y.a)(G,2),U=B[0],z=B[1],q=function(e){p(e.coords.latitude),y(e.coords.longitude)},J=function(){z("Sorry, we were unable to retrieve your location"),M(!0),u(!1)},W=function(){P(!F)};return Object(n.useEffect)(function(){if(d&&v&&e.user){var t=k||e.user.distance,a=N||e.user.results;w.trails.getTrailsByLocation(d,v,t,a).then(function(e){return l(e)}).then(u(!1))}},[d,v,e,k,N]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Trails"),r.a.createElement(E.a,{size:"big",className:"home-image",src:"https://images.freeimages.com/images/large-previews/c27/mount-rainier-1337100.jpg",alt:"mount-rainier"}),r.a.createElement(Le,{open:F,toggle:W,range:k,results:N,handleOnChange:function(e,t){"distance"===t.name?S(t.value):"results"===t.name&&A(t.value)},handleOnSubmit:function(e){e.preventDefault(),W()}}),r.a.createElement(D,{open:_,toggle:function(){M(!_)},error:U}),r.a.createElement(b.a,{className:"home-button",onClick:function(){e.fetchAuthentication(),d&&v?(l([]),p(""),y("")):(u(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(q,J):(z("Geolocation is not supported in your browser"),M(!0),u(!1)))},icon:"location arrow",color:"brown",content:"Hikes Near Me!"}),s?r.a.createElement(H,{info:"Trails"}):o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{lat:d,lng:v,trails:o}),r.a.createElement(be,{trails:o,user:e.user})):null)}),xe=Object(i.b)(null,function(e){return{logout:function(){return e({type:"LOGOUT"})}}})(function(e){var t=[r.a.createElement(M.a.Item,{key:"1",icon:"settings",as:v.c,exact:!0,to:"/account",activeClassName:"active",text:"Edit"}),r.a.createElement(M.a.Item,{key:"2",icon:"grav",as:v.c,exact:!0,to:"/about",activeClassName:"active",text:"About"}),r.a.createElement(M.a.Item,{key:"3",icon:"sign out alternate",text:"Logout",onClick:function(){e.logout()}})];return r.a.createElement(v.b,null,r.a.createElement(G.a,{fixed:"top",fluid:!0,widths:4,pointing:!0,color:"teal"},r.a.createElement(M.a,{text:"Account",item:!0,direction:"left",options:t}),r.a.createElement(G.a.Item,{icon:"like",as:v.c,exact:!0,to:"/favorites",activeClassName:"active",name:"Favs"}),r.a.createElement(G.a.Item,{icon:"map",as:v.c,exact:!0,to:"/hikes",activeClassName:"active",name:"Trails"}),r.a.createElement(G.a.Item,{icon:"search",as:v.c,exact:!0,to:"/search",activeClassName:"active",name:"Search"})),r.a.createElement(y.b,{path:"/",exact:!0,component:Pe}),r.a.createElement(y.b,{path:"/account",exact:!0,render:function(e){return r.a.createElement(K,e)}}),r.a.createElement(y.b,{path:"/about",exact:!0,render:function(e){return r.a.createElement($,e)}}),r.a.createElement(y.b,{path:"/favorites",exact:!0,render:function(e){return r.a.createElement(Ce,e)}}),r.a.createElement(y.b,{path:"/hikes",exact:!0,render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(y.b,{path:"/search",exact:!0,render:function(e){return r.a.createElement(De,e)}}),r.a.createElement(y.a,{from:"*",to:"/"}))}),He=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},localStorage.getItem("token")?r.a.createElement(xe,null):r.a.createElement(_,null))}}]),t}(n.Component),Re=Object(i.b)(function(e){return{user:e.user}})(He),_e={},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"SIGNUP":case"LOGIN":case"AUTHENTICATE":case"EDIT":return Object(g.a)({},e,{user:a});case"ERROR":return Object(g.a)({},e,{error:a});case"CLEARERROR":return Object(g.a)({},e,{error:null});case"LOGOUT":return localStorage.clear(),Object(g.a)({},e,{user:{}});default:return e}},Ge=[],Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"AVATARS":return a;default:return e}},Ue=[],ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"GETFAVORITES":return a;case"DELETEFAVORITES":return Ue;default:return e}},qe=[],Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"GETCOMPLETEDHIKES":return a;case"DELETECOMPLETEDHIKES":return qe;default:return e}},Ye=Object(c.c)({user:Me,avatars:Be,favorites:ze,completedHikes:Je}),We=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d)(Object(c.a)(s.a)),Ve=Object(c.e)(Ye,We);l.a.render(r.a.createElement(i.a,{store:Ve},r.a.createElement(Re,null)),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.91675607.chunk.js.map